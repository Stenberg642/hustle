{% extends "base.html" %}
{% block content %}

<div class="auth-wrapper">
    <div class="auth-card">
        <h2>Create Account</h2>

        <form method="POST">

            <input type="text" name="username" placeholder="Username" required>
            <input type="email" name="email" placeholder="Email" required>
            <input type="password" name="password" placeholder="Password" required>

            <p style="margin-top:10px;">
                <a href="#" onclick="openRules(); return false;">Read Rules</a>
            </p>

      
            <div style="margin:10px 0;">
                <label>
                    <input type="checkbox" name="agree" id="agreeCheckbox" onchange="toggleButton()">
                    I have read and agree to the rules
                </label>
            </div>

            <button type="submit" id="registerBtn" class="btn-primary" disabled>
                Register
            </button>

        </form>

        <div class="auth-links">
            <p>
                Already have an account?
                <a href="{{ url_for('auth.login') }}">Login</a>
            </p>
        </div>
    </div>
</div>


<div id="rulesModal" style="
    display:none;
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.6);
    justify-content:center;
    align-items:center;
">

    <div style="
        background:black;
        padding:25px;
        width:400px;
        border-radius:8px;
        max-height:80%;
        overflow-y:auto;
    ">

        <h3>Rules</h3>

        <ul style="margin-top:10px;">
            <li>Check-ins allowed 00:00 – 22:00</li>
            <li>Monday – Friday only</li>
            <li>Minimum 4 check-ins per week</li>
            <li>Less than 4 check-ins = R10 fine</li>
            <li>No submissions accepted after 22:00</li>
        </ul>

        <button onclick="closeRules()" class="btn-primary" style="margin-top:15px;">
            Close
        </button>

    </div>
</div>


<script>
function openRules() {
    document.getElementById("rulesModal").style.display = "flex";
}

function closeRules() {
    document.getElementById("rulesModal").style.display = "none";
}

function toggleButton() {
    const checkbox = document.getElementById("agreeCheckbox");
    const button = document.getElementById("registerBtn");

    button.disabled = !checkbox.checked;
}
</script>

{% endblock %}

